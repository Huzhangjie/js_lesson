<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Symbol--js新增数据类型</title>
</head>
<body>
  <script>
    // js number string boolean 
    // null undefined symbol 
    // obj function array

    // let wxb = {
    //   bestLove: "双儿",
    //   bestLove: "曾柔",
    //   bestLove: "建宁公主"
    // }

    // 标识
    let shuanger = Symbol()
    let ake = Symbol();
    let sq = Symbol()
    let mjp = Symbol()
    let jn = Symbol()
    let zr = Symbol('曾柔')

    let wxb = {
      name: '韦小宝',
      [shuanger]: "最爱",
      [ake]: "最爱",
      [sq]: '最爱',
      [jn]: '最爱',
      [zr]: '最爱'
    }
    // console.log(wxb[shuanger])
    // console.log(wxb[ake])
    for(key in wxb){
      // Symbol 作为 唯一key 区别对待
      console.log(`${key}: ${wxb[key]}`)
    }
    let name = Symbol('name')
    let age = Symbol('age')
    let obj = {
      [name]: "zyry",
      [age]: 80
    }
    // js 动态性 无法保证对象中的属性不变
    
    // 将json 里面的正常的key(string) 与今天的新的Symbol key 区分开
    const symbols = Object.getOwnPropertySymbols(obj);
    // console.log(symbols)
    for(symbol of symbols) {
      console.log(obj[symbol])
    }

    let f = [1, 2, 3];
    console.log(Object.prototype.toString.call(f))
    Array.prototype[Symbol.toStringTag] = 'array'
    console.log(Object.prototype.toString.call(f))

    var obj1 = {
      a: 1,
      b: 2
    }
    console.log(Object.getOwnPropertyNames(obj1))
    var obj2 = Object.create(obj1,{
      getFoo: {
        value: function() {
          return this.foo + '  getter'
        }
      }
    })
    obj2.foo = 1; 
    console.log(obj2)
    console.log(Object.getOwnPropertyNames(obj2))

    class Num {
      constructor (num) {
        // 变量名前 _表示私有变量
        this._num = num;
      }
      get num () {
        console.log('又一个用户来访问num了')
        return this._num;
      }
      set num(num) {
        console.log('数字需要保存')
        this._num = num;
      }
    }

    const test = new Num(9)
    test.num = 99
    console.log(test.num)
    // _开头, 语法习惯的约束， 没有起到private
    // 提供给对象内部使用， 暴露出api
    // 让外界可以访问到

  </script>
</body>
</html>